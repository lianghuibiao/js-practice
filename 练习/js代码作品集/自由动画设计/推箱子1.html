<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
#div{
    width: 450px;
    height: 450px;
    background-color: antiquewhite;
    text-align: center;
    border:  8px solid green;
    border-radius: 25px;
    margin: 0 auto;
    padding: 0;
}
#man{
    width: 45px;
    height: 45px;
    background-color: aquamarine;
}
	.box{
		width: 240px;
		height: 240px;
		margin: 120px;
	}
	.one{
		width: 240px;
		height: 30px;
	}
	#a{
		float: left;
	}
	#b{
		float: right;
	}
	h1{
		text-align: center;
	}
	#aaa{
		position:absolute; 
		
	}
</style>
<body>
   <h1>3.推箱子</h1>
    <div id="div">


		

  <div class="box">
	  <div class="one">
	  	<img src="右.png" width="30" height="30" id="a">
	  	<img src="右.png" width="30" height="30" id="a">
	  	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	  	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	  	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	  	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	  	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	  <img src="右.png" width="30" height="30" id="a">
	  </div>
	   <div class="one">
	   	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	   	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	   	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	   	<img src="右.png" width="30" height="30" id="b">
	   	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="b">
	   	<img src="men.jpg" width="30" height="30" id="aaa">
	   </div>
	    <div class="one">
	    	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	    	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="b">
	    	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="b">
	    </div>
	     <div class="one">
	     	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	     	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="b">
	     </div>
	      <div class="one">
	      	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	      	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="b">
	      </div>
	       <div class="one">
	       	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	       	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	       	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="b">
	       	<img src="圈圈.jpg" width="30" height="30" id="qqq">
	       </div>
	        <div class="one">
	        	<img src="右.png" width="30" height="30" id="a">
	        	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	        	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="b">
	        	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="b">
	        	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="b">
	        </div>
	         <div class="one">
	         	<img src="右.png" width="30" height="30" id="a">
	         	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	         	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	         	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	         	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	         	<img src="u=3756776828,2403010492&fm=26&gp=0.jpg" width="30" height="30" id="a">
	         	<img src="右.png" width="30" height="30" id="a">
	         	<img src="右.png" width="30" height="30" id="a">
	         </div>
 
 
 
 
 
		</div>
    </div>
</body>
<script>
	/*//建立数组   我的位置是1；可移动地区是0；箱子是2
	var arr=[[0],[1],[2]];
	arr[0][1]=document.getElementById("aaa");
	//获取对象坐标
	var obj = document.getElementById("aaa");
    var x = obj.offsetLeft;
    var y = obj.offsetTop;
	//监听移动对象
document.onkeydown = function(e){
    var e=(e||event);
	
    switch (e.keyCode) {
        case 37: x=x-15; break;
        case 39: x=x+15; break;
        case 38: y=y-15; break;
        case 40: y=y+15; break;
    }
    obj.style.left =x+"px"
    obj.style.top =y+"px";
	var ob = document.getElementById("qqq");
	//获取可移动箱子坐标
    var a = ob.offsetLeft;
    var b = ob.offsetTop;
	//我从箱子哪边来


	
	//判断可移动对象和箱子坐标是否相等
	
	
	if(x==a||y==b){
		
		
	}
}
	
	*/
	var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');
        var dWidth = 35,
            dHeight = 35;
        var iCurLevel = 0; //当前关卡+1
        var steps = 0; // 移动步数
        var currenMap = [],
            userMap = [];
        var msg = document.getElementById('msg');
        var block = document.getElementById('block');
        var wall = document.getElementById('wall');
        var box = document.getElementById('box');
        var down = document.getElementById('down');
        var left = document.getElementById('left');
        var right = document.getElementById('right');
        var up = document.getElementById('up');
        var ball = document.getElementById('ball');
        var curMan = down; //小人面向
// 复制二维数组
function copyArray(arr) {
            var newArr = [];
            for (var i = 0; i < arr.length; i++) {
                newArr[i] = arr[i].concat();
            }
            return newArr;
        }
        // 初始化
        function init() {
            currenMap = copyArray(levels[iCurLevel]) // 当前原样地图
            userMap = copyArray(levels[iCurLevel]) // 当前使用地图
            steps = 0; // 初始化步数
            curMan = down; // 初始化小人面朝下
            msg.innerHTML = "当前第：" + (iCurLevel + 1) + "关，移动步数：" + steps;
            drawBlock() // 画草地
            drawMap(currenMap) // 画关卡地图
        }

        // 画草地
        function drawBlock() {
            for (var i = 0; i < 16; i++) {
                for (var j = 0; j < 16; j++) {
                    ctx.drawImage(block, i * dWidth, j * dHeight, dWidth, dHeight);

                }
            }
        }
        // 画小人位置
        function Point(x, y) {
            this.x = x;
            this.y = y;
        }

        var per_position = new Point(5, 5);
        // 画关卡地图
        function drawMap(level) {
            for (var i = 0; i < level.length; i++) {
                for (var j = 0; j < level[i].length; j++) {
                    var pic = block;
                    switch (level[i][j]) {
                        case 0:
                            pic = block;
                            break;
                        case 1:
                            pic = wall;
                            break;
                        case 2:
                            pic = ball;
                            break;
                        case 3:
                            pic = box;
                            break;
                        case 4:
                            pic = curMan;
                            per_position.x = i;
                            per_position.y = j;
                            break;
                        case 5:
                            pic = box;
                            break;
                    }
                    ctx.drawImage(pic, j * dWidth - (pic.width - dWidth) / 2, i * dHeight - (pic.height - dHeight), pic.width, pic.height);
                }
            }
        }

</script>
</html>